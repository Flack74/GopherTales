<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Gopher Tales</title>
        <link rel="stylesheet" href="/static/css/home_styles.css" />
        <link rel="icon" type="image/svg+xml" href="../static/music.svg" />
        <!-- Optional fun font -->
        <link
            href="https://fonts.googleapis.com/css2?family=Fredoka:wght@500;700&display=swap"
            rel="stylesheet"
        />
    </head>
    <body>
        <div class="container">
            <div class="left"></div>
            <div class="right">
                <h1>Welcome to GopherTales</h1>
                <p>
                    An interactive journey with choices that shape your
                    adventure.
                </p>
                {{ if .IsLoggedIn }}
                <div class="user-welcome">
                    <p class="welcome-text">Welcome back, {{ .User.Name }}! ðŸ‘‹</p>
                    <div class="user-actions">
                        <a href="/dashboard" class="auth-btn dashboard-btn">Dashboard</a>
                        <button onclick="logout()" class="auth-btn logout-btn">Logout</button>
                    </div>
                </div>
                {{ else }}
                <div class="auth-buttons">
                    <a href="/login" class="auth-btn login-btn">Login</a>
                    <a href="/register" class="auth-btn register-btn">Register</a>
                </div>
                {{ end }}
                <a href="/selection" class="start-btn"
                    >Start Your Adventure ðŸš€</a
                >
            </div>
        </div>
        <script>
        async function logout() {
            try {
                await fetch('/api/auth/logout', { method: 'POST' });
                window.location.reload();
            } catch (error) {
                console.error('Logout failed:', error);
            }
        }
    </script>
</body>
</html>
